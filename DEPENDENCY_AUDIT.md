# Dependency Audit Report

**Date:** January 2, 2026
**Project:** BestMealMate

---

## Summary

| Category | Status |
|----------|--------|
| Security Vulnerabilities | **0 found** |
| Outdated Packages | 6 packages |
| Unnecessary Dependencies | 1 duplicate found |
| Overall Health | Good |

---

## 1. Security Vulnerabilities

**npm audit result: 0 vulnerabilities found**

The project has no known security vulnerabilities in its dependency tree.

---

## 2. Outdated Packages

### Major Updates Available (Breaking Changes Possible)

| Package | Current | Latest | Risk | Recommendation |
|---------|---------|--------|------|----------------|
| `next` | 15.5.9 | 16.1.1 | Medium | Wait for ecosystem stability; Next.js 16 has significant changes |
| `react` | ^18.2.0 | 19.2.3 | High | Major migration required; wait until React 19 stabilizes |
| `react-dom` | ^18.2.0 | 19.2.3 | High | Update with React |
| `framer-motion` | ^11.0.0 | 12.23.26 | Medium | Review changelog; some breaking changes in v12 |

### Minor/Patch Updates Available (Safe to Update)

| Package | Current | Wanted | Recommendation |
|---------|---------|--------|----------------|
| `@supabase/supabase-js` | ^2.39.0 | 2.89.0 | **Update recommended** - bug fixes and performance improvements |
| `react-hot-toast` | ^2.4.1 | 2.6.0 | **Update recommended** - minor improvements |

---

## 3. Unnecessary/Duplicate Dependencies

### DUPLICATE: `playwright` package

**Issue:** Both `playwright` and `@playwright/test` are installed as devDependencies.

```json
"@playwright/test": "^1.56.0",
"playwright": "^1.56.0"
```

**Impact:** ~50MB of unnecessary disk space and slower installs.

**Recommendation:** Remove `playwright` - only `@playwright/test` is needed for testing.

```bash
npm uninstall playwright
```

---

## 4. Dependency Usage Analysis

### Well-Utilized Dependencies

| Package | Usage | Notes |
|---------|-------|-------|
| `lucide-react` | 50 files | Heavily used, appropriate |
| `react-hot-toast` | 17 files | Well integrated |
| `@supabase/supabase-js` | Core | Essential for backend |
| `stripe` | API routes | Essential for payments |
| `@anthropic-ai/sdk` | AI features | Essential for core feature |

### Light Usage (Consider Alternatives)

| Package | Usage | Notes |
|---------|-------|-------|
| `framer-motion` | 4 files | Used for animations; current usage is fine but could use CSS animations if bundle size becomes a concern |

### Special Purpose Dependencies

| Package | Purpose | Verdict |
|---------|---------|---------|
| `@capacitor/*` | Mobile app wrapper | **Keep** - has config and native directories set up |
| `sharp` | Image optimization | **Keep** - Next.js uses it for `next/image` optimization |
| `@vercel/analytics` | Usage tracking | **Keep** - used in layout.tsx |
| `resend` | Email sending | **Keep** - used in email.ts |

---

## 5. Recommended Actions

### Immediate (Low Risk)

1. **Remove duplicate `playwright` package:**
   ```bash
   npm uninstall playwright
   ```

2. **Update safe minor versions:**
   ```bash
   npm update @supabase/supabase-js react-hot-toast
   ```

### Short-Term (Medium Risk)

3. **Update framer-motion to v12** after reviewing [migration guide](https://www.framer.com/motion/)
   ```bash
   npm install framer-motion@latest
   ```

### Long-Term (Plan Required)

4. **React 19 Migration** - Wait for:
   - Next.js 16+ full React 19 support
   - Dependencies (framer-motion, react-hot-toast) to support React 19
   - Production stability reports

5. **Next.js 16 Migration** - Wait for:
   - Stable release with proven production track record
   - Review breaking changes documentation

---

## 6. Bundle Size Notes

The current dependency set is reasonable for a full-featured application:

- **Core Framework:** Next.js + React (~150KB gzipped)
- **UI/Animation:** framer-motion (~30KB), lucide-react (tree-shakes well)
- **Backend SDKs:** Supabase, Stripe, Anthropic (server-side only)
- **Mobile:** Capacitor (only in mobile builds)

No immediate bundle size concerns identified.

---

## 7. package.json After Recommended Changes

```json
{
  "devDependencies": {
    "@capacitor/android": "^8.0.0",
    "@capacitor/cli": "^8.0.0",
    "@capacitor/ios": "^8.0.0",
    "@eslint/eslintrc": "^3.3.3",
    "@playwright/test": "^1.56.0",
    "@types/node": "^20.11.0",
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "autoprefixer": "^10.4.0",
    "eslint": "^9.0.0",
    "eslint-config-next": "15.5.9",
    "husky": "^9.1.7",
    "lint-staged": "^16.2.7",
    "postcss": "^8.4.0",
    "sharp": "^0.34.5",
    "tailwindcss": "^3.4.0",
    "typescript": "^5.3.0"
  }
}
```

**Change:** Removed `"playwright": "^1.56.0"` (duplicate)

---

*Report generated by dependency audit*
