'use client'

import { createContext, useContext, useState, useEffect, ReactNode } from 'react'

// Supported languages
export const languages = {
  en: { name: 'English', flag: 'ğŸ‡ºğŸ‡¸', dir: 'ltr' },
  es: { name: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸', dir: 'ltr' },
  fr: { name: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·', dir: 'ltr' },
  de: { name: 'Deutsch', flag: 'ğŸ‡©ğŸ‡ª', dir: 'ltr' },
  zh: { name: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³', dir: 'ltr' },
  ar: { name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ğŸ‡¸ğŸ‡¦', dir: 'rtl' },
  hi: { name: 'à¤¹à¤¿à¤¨à¥à¤¦à¥€', flag: 'ğŸ‡®ğŸ‡³', dir: 'ltr' },
  pt: { name: 'PortuguÃªs', flag: 'ğŸ‡§ğŸ‡·', dir: 'ltr' },
} as const

export type Language = keyof typeof languages

// Translation keys
const translations: Record<Language, Record<string, string>> = {
  en: {
    // Navigation
    'nav.home': 'Home',
    'nav.dashboard': 'Dashboard',
    'nav.mealPlan': 'Meal Plan',
    'nav.groceries': 'Grocery List',
    'nav.pantry': 'Pantry',
    'nav.recipes': 'Recipes',
    'nav.family': 'Family',
    'nav.settings': 'Settings',
    'nav.signOut': 'Sign Out',

    // Common
    'common.loading': 'Loading...',
    'common.save': 'Save',
    'common.cancel': 'Cancel',
    'common.delete': 'Delete',
    'common.edit': 'Edit',
    'common.add': 'Add',
    'common.search': 'Search',
    'common.close': 'Close',
    'common.back': 'Back',
    'common.next': 'Next',
    'common.submit': 'Submit',
    'common.success': 'Success',
    'common.error': 'Error',

    // Auth
    'auth.login': 'Log In',
    'auth.signup': 'Sign Up',
    'auth.logout': 'Log Out',
    'auth.email': 'Email',
    'auth.password': 'Password',
    'auth.forgotPassword': 'Forgot Password?',

    // Dashboard
    'dashboard.welcome': 'Welcome back',
    'dashboard.todaysMeals': "Today's Meals",
    'dashboard.weeklyPlan': 'Weekly Plan',
    'dashboard.quickActions': 'Quick Actions',

    // Meal Planning
    'meals.breakfast': 'Breakfast',
    'meals.lunch': 'Lunch',
    'meals.dinner': 'Dinner',
    'meals.snack': 'Snack',
    'meals.generatePlan': 'Generate Meal Plan',
    'meals.addMeal': 'Add Meal',

    // Pantry
    'pantry.addItem': 'Add Item',
    'pantry.scanFood': 'Scan Food',
    'pantry.scanBarcode': 'Scan Barcode',
    'pantry.expiringItems': 'Expiring Soon',
    'pantry.lowStock': 'Low Stock',

    // Family
    'family.addMember': 'Add Family Member',
    'family.dietaryRestrictions': 'Dietary Restrictions',
    'family.allergies': 'Allergies',

    // Settings
    'settings.account': 'Account',
    'settings.notifications': 'Notifications',
    'settings.appearance': 'Appearance',
    'settings.language': 'Language',
    'settings.privacy': 'Privacy',
    'settings.subscription': 'Subscription',

    // Accessibility
    'a11y.skipToContent': 'Skip to main content',
    'a11y.skipToNav': 'Skip to navigation',
    'a11y.menuOpen': 'Open menu',
    'a11y.menuClose': 'Close menu',
    'a11y.loading': 'Content is loading',
    'a11y.newWindow': 'Opens in new window',
  },

  es: {
    'nav.home': 'Inicio',
    'nav.dashboard': 'Panel',
    'nav.mealPlan': 'Plan de Comidas',
    'nav.groceries': 'Lista de Compras',
    'nav.pantry': 'Despensa',
    'nav.recipes': 'Recetas',
    'nav.family': 'Familia',
    'nav.settings': 'ConfiguraciÃ³n',
    'nav.signOut': 'Cerrar SesiÃ³n',
    'common.loading': 'Cargando...',
    'common.save': 'Guardar',
    'common.cancel': 'Cancelar',
    'common.delete': 'Eliminar',
    'common.edit': 'Editar',
    'common.add': 'AÃ±adir',
    'common.search': 'Buscar',
    'common.close': 'Cerrar',
    'common.back': 'AtrÃ¡s',
    'common.next': 'Siguiente',
    'common.submit': 'Enviar',
    'common.success': 'Ã‰xito',
    'common.error': 'Error',
    'auth.login': 'Iniciar SesiÃ³n',
    'auth.signup': 'Registrarse',
    'auth.logout': 'Cerrar SesiÃ³n',
    'auth.email': 'Correo ElectrÃ³nico',
    'auth.password': 'ContraseÃ±a',
    'auth.forgotPassword': 'Â¿Olvidaste tu ContraseÃ±a?',
    'dashboard.welcome': 'Bienvenido de nuevo',
    'dashboard.todaysMeals': 'Comidas de Hoy',
    'dashboard.weeklyPlan': 'Plan Semanal',
    'dashboard.quickActions': 'Acciones RÃ¡pidas',
    'meals.breakfast': 'Desayuno',
    'meals.lunch': 'Almuerzo',
    'meals.dinner': 'Cena',
    'meals.snack': 'Merienda',
    'meals.generatePlan': 'Generar Plan',
    'meals.addMeal': 'AÃ±adir Comida',
    'pantry.addItem': 'AÃ±adir ArtÃ­culo',
    'pantry.scanFood': 'Escanear Comida',
    'pantry.scanBarcode': 'Escanear CÃ³digo',
    'pantry.expiringItems': 'Por Vencer',
    'pantry.lowStock': 'Stock Bajo',
    'family.addMember': 'AÃ±adir Miembro',
    'family.dietaryRestrictions': 'Restricciones DietÃ©ticas',
    'family.allergies': 'Alergias',
    'settings.account': 'Cuenta',
    'settings.notifications': 'Notificaciones',
    'settings.appearance': 'Apariencia',
    'settings.language': 'Idioma',
    'settings.privacy': 'Privacidad',
    'settings.subscription': 'SuscripciÃ³n',
    'a11y.skipToContent': 'Saltar al contenido principal',
    'a11y.skipToNav': 'Saltar a la navegaciÃ³n',
    'a11y.menuOpen': 'Abrir menÃº',
    'a11y.menuClose': 'Cerrar menÃº',
    'a11y.loading': 'El contenido estÃ¡ cargando',
    'a11y.newWindow': 'Se abre en una nueva ventana',
  },

  fr: {
    'nav.home': 'Accueil',
    'nav.dashboard': 'Tableau de bord',
    'nav.mealPlan': 'Plan de Repas',
    'nav.groceries': 'Liste de Courses',
    'nav.pantry': 'Garde-manger',
    'nav.recipes': 'Recettes',
    'nav.family': 'Famille',
    'nav.settings': 'ParamÃ¨tres',
    'nav.signOut': 'DÃ©connexion',
    'common.loading': 'Chargement...',
    'common.save': 'Enregistrer',
    'common.cancel': 'Annuler',
    'common.delete': 'Supprimer',
    'common.edit': 'Modifier',
    'common.add': 'Ajouter',
    'common.search': 'Rechercher',
    'common.close': 'Fermer',
    'common.back': 'Retour',
    'common.next': 'Suivant',
    'common.submit': 'Soumettre',
    'common.success': 'SuccÃ¨s',
    'common.error': 'Erreur',
    'auth.login': 'Connexion',
    'auth.signup': "S'inscrire",
    'auth.logout': 'DÃ©connexion',
    'auth.email': 'E-mail',
    'auth.password': 'Mot de passe',
    'auth.forgotPassword': 'Mot de passe oubliÃ©?',
    'dashboard.welcome': 'Bon retour',
    'dashboard.todaysMeals': "Repas d'aujourd'hui",
    'dashboard.weeklyPlan': 'Plan Hebdomadaire',
    'dashboard.quickActions': 'Actions Rapides',
    'meals.breakfast': 'Petit-dÃ©jeuner',
    'meals.lunch': 'DÃ©jeuner',
    'meals.dinner': 'DÃ®ner',
    'meals.snack': 'Collation',
    'meals.generatePlan': 'GÃ©nÃ©rer un Plan',
    'meals.addMeal': 'Ajouter un Repas',
    'pantry.addItem': 'Ajouter un Article',
    'pantry.scanFood': 'Scanner Aliment',
    'pantry.scanBarcode': 'Scanner Code-barres',
    'pantry.expiringItems': 'Expire BientÃ´t',
    'pantry.lowStock': 'Stock Faible',
    'family.addMember': 'Ajouter un Membre',
    'family.dietaryRestrictions': 'Restrictions Alimentaires',
    'family.allergies': 'Allergies',
    'settings.account': 'Compte',
    'settings.notifications': 'Notifications',
    'settings.appearance': 'Apparence',
    'settings.language': 'Langue',
    'settings.privacy': 'ConfidentialitÃ©',
    'settings.subscription': 'Abonnement',
    'a11y.skipToContent': 'Aller au contenu principal',
    'a11y.skipToNav': 'Aller Ã  la navigation',
    'a11y.menuOpen': 'Ouvrir le menu',
    'a11y.menuClose': 'Fermer le menu',
    'a11y.loading': 'Le contenu est en cours de chargement',
    'a11y.newWindow': "S'ouvre dans une nouvelle fenÃªtre",
  },

  de: {
    'nav.home': 'Startseite',
    'nav.dashboard': 'Dashboard',
    'nav.mealPlan': 'Mahlzeitenplan',
    'nav.groceries': 'Einkaufsliste',
    'nav.pantry': 'Vorratskammer',
    'nav.recipes': 'Rezepte',
    'nav.family': 'Familie',
    'nav.settings': 'Einstellungen',
    'nav.signOut': 'Abmelden',
    'common.loading': 'Laden...',
    'common.save': 'Speichern',
    'common.cancel': 'Abbrechen',
    'common.delete': 'LÃ¶schen',
    'common.edit': 'Bearbeiten',
    'common.add': 'HinzufÃ¼gen',
    'common.search': 'Suchen',
    'common.close': 'SchlieÃŸen',
    'common.back': 'ZurÃ¼ck',
    'common.next': 'Weiter',
    'common.submit': 'Absenden',
    'common.success': 'Erfolg',
    'common.error': 'Fehler',
    'auth.login': 'Anmelden',
    'auth.signup': 'Registrieren',
    'auth.logout': 'Abmelden',
    'auth.email': 'E-Mail',
    'auth.password': 'Passwort',
    'auth.forgotPassword': 'Passwort vergessen?',
    'dashboard.welcome': 'Willkommen zurÃ¼ck',
    'dashboard.todaysMeals': 'Heutige Mahlzeiten',
    'dashboard.weeklyPlan': 'Wochenplan',
    'dashboard.quickActions': 'Schnellaktionen',
    'meals.breakfast': 'FrÃ¼hstÃ¼ck',
    'meals.lunch': 'Mittagessen',
    'meals.dinner': 'Abendessen',
    'meals.snack': 'Snack',
    'meals.generatePlan': 'Plan Erstellen',
    'meals.addMeal': 'Mahlzeit HinzufÃ¼gen',
    'pantry.addItem': 'Artikel HinzufÃ¼gen',
    'pantry.scanFood': 'Essen Scannen',
    'pantry.scanBarcode': 'Barcode Scannen',
    'pantry.expiringItems': 'Bald Ablaufend',
    'pantry.lowStock': 'Niedriger Bestand',
    'family.addMember': 'Mitglied HinzufÃ¼gen',
    'family.dietaryRestrictions': 'ErnÃ¤hrungseinschrÃ¤nkungen',
    'family.allergies': 'Allergien',
    'settings.account': 'Konto',
    'settings.notifications': 'Benachrichtigungen',
    'settings.appearance': 'Erscheinungsbild',
    'settings.language': 'Sprache',
    'settings.privacy': 'Datenschutz',
    'settings.subscription': 'Abonnement',
    'a11y.skipToContent': 'Zum Hauptinhalt springen',
    'a11y.skipToNav': 'Zur Navigation springen',
    'a11y.menuOpen': 'MenÃ¼ Ã¶ffnen',
    'a11y.menuClose': 'MenÃ¼ schlieÃŸen',
    'a11y.loading': 'Inhalt wird geladen',
    'a11y.newWindow': 'Ã–ffnet in neuem Fenster',
  },

  zh: {
    'nav.home': 'é¦–é¡µ',
    'nav.dashboard': 'ä»ªè¡¨æ¿',
    'nav.mealPlan': 'è†³é£Ÿè®¡åˆ’',
    'nav.groceries': 'è´­ç‰©æ¸…å•',
    'nav.pantry': 'é£Ÿå“å‚¨è—å®¤',
    'nav.recipes': 'é£Ÿè°±',
    'nav.family': 'å®¶åº­',
    'nav.settings': 'è®¾ç½®',
    'nav.signOut': 'é€€å‡ºç™»å½•',
    'common.loading': 'åŠ è½½ä¸­...',
    'common.save': 'ä¿å­˜',
    'common.cancel': 'å–æ¶ˆ',
    'common.delete': 'åˆ é™¤',
    'common.edit': 'ç¼–è¾‘',
    'common.add': 'æ·»åŠ ',
    'common.search': 'æœç´¢',
    'common.close': 'å…³é—­',
    'common.back': 'è¿”å›',
    'common.next': 'ä¸‹ä¸€æ­¥',
    'common.submit': 'æäº¤',
    'common.success': 'æˆåŠŸ',
    'common.error': 'é”™è¯¯',
    'auth.login': 'ç™»å½•',
    'auth.signup': 'æ³¨å†Œ',
    'auth.logout': 'é€€å‡º',
    'auth.email': 'ç”µå­é‚®ä»¶',
    'auth.password': 'å¯†ç ',
    'auth.forgotPassword': 'å¿˜è®°å¯†ç ï¼Ÿ',
    'dashboard.welcome': 'æ¬¢è¿å›æ¥',
    'dashboard.todaysMeals': 'ä»Šæ—¥è†³é£Ÿ',
    'dashboard.weeklyPlan': 'æ¯å‘¨è®¡åˆ’',
    'dashboard.quickActions': 'å¿«æ·æ“ä½œ',
    'meals.breakfast': 'æ—©é¤',
    'meals.lunch': 'åˆé¤',
    'meals.dinner': 'æ™šé¤',
    'meals.snack': 'å°åƒ',
    'meals.generatePlan': 'ç”Ÿæˆè®¡åˆ’',
    'meals.addMeal': 'æ·»åŠ è†³é£Ÿ',
    'pantry.addItem': 'æ·»åŠ ç‰©å“',
    'pantry.scanFood': 'æ‰«æé£Ÿç‰©',
    'pantry.scanBarcode': 'æ‰«ææ¡å½¢ç ',
    'pantry.expiringItems': 'å³å°†è¿‡æœŸ',
    'pantry.lowStock': 'åº“å­˜ä¸è¶³',
    'family.addMember': 'æ·»åŠ æˆå‘˜',
    'family.dietaryRestrictions': 'é¥®é£Ÿé™åˆ¶',
    'family.allergies': 'è¿‡æ•',
    'settings.account': 'è´¦æˆ·',
    'settings.notifications': 'é€šçŸ¥',
    'settings.appearance': 'å¤–è§‚',
    'settings.language': 'è¯­è¨€',
    'settings.privacy': 'éšç§',
    'settings.subscription': 'è®¢é˜…',
    'a11y.skipToContent': 'è·³è‡³ä¸»è¦å†…å®¹',
    'a11y.skipToNav': 'è·³è‡³å¯¼èˆª',
    'a11y.menuOpen': 'æ‰“å¼€èœå•',
    'a11y.menuClose': 'å…³é—­èœå•',
    'a11y.loading': 'å†…å®¹æ­£åœ¨åŠ è½½',
    'a11y.newWindow': 'åœ¨æ–°çª—å£ä¸­æ‰“å¼€',
  },

  ar: {
    'nav.home': 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',
    'nav.dashboard': 'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…',
    'nav.mealPlan': 'Ø®Ø·Ø© Ø§Ù„ÙˆØ¬Ø¨Ø§Øª',
    'nav.groceries': 'Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ³ÙˆÙ‚',
    'nav.pantry': 'Ø§Ù„Ù…Ø®Ø²Ù†',
    'nav.recipes': 'Ø§Ù„ÙˆØµÙØ§Øª',
    'nav.family': 'Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©',
    'nav.settings': 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª',
    'nav.signOut': 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬',
    'common.loading': 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...',
    'common.save': 'Ø­ÙØ¸',
    'common.cancel': 'Ø¥Ù„ØºØ§Ø¡',
    'common.delete': 'Ø­Ø°Ù',
    'common.edit': 'ØªØ¹Ø¯ÙŠÙ„',
    'common.add': 'Ø¥Ø¶Ø§ÙØ©',
    'common.search': 'Ø¨Ø­Ø«',
    'common.close': 'Ø¥ØºÙ„Ø§Ù‚',
    'common.back': 'Ø±Ø¬ÙˆØ¹',
    'common.next': 'Ø§Ù„ØªØ§Ù„ÙŠ',
    'common.submit': 'Ø¥Ø±Ø³Ø§Ù„',
    'common.success': 'Ù†Ø¬Ø§Ø­',
    'common.error': 'Ø®Ø·Ø£',
    'auth.login': 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„',
    'auth.signup': 'Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨',
    'auth.logout': 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬',
    'auth.email': 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',
    'auth.password': 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±',
    'auth.forgotPassword': 'Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ',
    'dashboard.welcome': 'Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ',
    'dashboard.todaysMeals': 'ÙˆØ¬Ø¨Ø§Øª Ø§Ù„ÙŠÙˆÙ…',
    'dashboard.weeklyPlan': 'Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©',
    'dashboard.quickActions': 'Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø³Ø±ÙŠØ¹Ø©',
    'meals.breakfast': 'Ø§Ù„Ø¥ÙØ·Ø§Ø±',
    'meals.lunch': 'Ø§Ù„ØºØ¯Ø§Ø¡',
    'meals.dinner': 'Ø§Ù„Ø¹Ø´Ø§Ø¡',
    'meals.snack': 'ÙˆØ¬Ø¨Ø© Ø®ÙÙŠÙØ©',
    'meals.generatePlan': 'Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø·Ø©',
    'meals.addMeal': 'Ø¥Ø¶Ø§ÙØ© ÙˆØ¬Ø¨Ø©',
    'pantry.addItem': 'Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ±',
    'pantry.scanFood': 'Ù…Ø³Ø­ Ø§Ù„Ø·Ø¹Ø§Ù…',
    'pantry.scanBarcode': 'Ù…Ø³Ø­ Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯',
    'pantry.expiringItems': 'ÙŠÙ†ØªÙ‡ÙŠ Ù‚Ø±ÙŠØ¨Ø§Ù‹',
    'pantry.lowStock': 'Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶',
    'family.addMember': 'Ø¥Ø¶Ø§ÙØ© Ø¹Ø¶Ùˆ',
    'family.dietaryRestrictions': 'Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ©',
    'family.allergies': 'Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ©',
    'settings.account': 'Ø§Ù„Ø­Ø³Ø§Ø¨',
    'settings.notifications': 'Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª',
    'settings.appearance': 'Ø§Ù„Ù…Ø¸Ù‡Ø±',
    'settings.language': 'Ø§Ù„Ù„ØºØ©',
    'settings.privacy': 'Ø§Ù„Ø®ØµÙˆØµÙŠØ©',
    'settings.subscription': 'Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ',
    'a11y.skipToContent': 'Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ',
    'a11y.skipToNav': 'Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ Ø§Ù„ØªÙ†Ù‚Ù„',
    'a11y.menuOpen': 'ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©',
    'a11y.menuClose': 'Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©',
    'a11y.loading': 'Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰',
    'a11y.newWindow': 'ÙŠÙØªØ­ ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø©',
  },

  hi: {
    'nav.home': 'à¤¹à¥‹à¤®',
    'nav.dashboard': 'à¤¡à¥ˆà¤¶à¤¬à¥‹à¤°à¥à¤¡',
    'nav.mealPlan': 'à¤­à¥‹à¤œà¤¨ à¤¯à¥‹à¤œà¤¨à¤¾',
    'nav.groceries': 'à¤–à¤°à¥€à¤¦à¤¾à¤°à¥€ à¤¸à¥‚à¤šà¥€',
    'nav.pantry': 'à¤­à¤‚à¤¡à¤¾à¤°',
    'nav.recipes': 'à¤µà¥à¤¯à¤‚à¤œà¤¨',
    'nav.family': 'à¤ªà¤°à¤¿à¤µà¤¾à¤°',
    'nav.settings': 'à¤¸à¥‡à¤Ÿà¤¿à¤‚à¤—à¥à¤¸',
    'nav.signOut': 'à¤¸à¤¾à¤‡à¤¨ à¤†à¤‰à¤Ÿ',
    'common.loading': 'à¤²à¥‹à¤¡ à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ...',
    'common.save': 'à¤¸à¤¹à¥‡à¤œà¥‡à¤‚',
    'common.cancel': 'à¤°à¤¦à¥à¤¦ à¤•à¤°à¥‡à¤‚',
    'common.delete': 'à¤¹à¤Ÿà¤¾à¤à¤‚',
    'common.edit': 'à¤¸à¤‚à¤ªà¤¾à¤¦à¤¿à¤¤ à¤•à¤°à¥‡à¤‚',
    'common.add': 'à¤œà¥‹à¤¡à¤¼à¥‡à¤‚',
    'common.search': 'à¤–à¥‹à¤œà¥‡à¤‚',
    'common.close': 'à¤¬à¤‚à¤¦ à¤•à¤°à¥‡à¤‚',
    'common.back': 'à¤µà¤¾à¤ªà¤¸',
    'common.next': 'à¤…à¤—à¤²à¤¾',
    'common.submit': 'à¤œà¤®à¤¾ à¤•à¤°à¥‡à¤‚',
    'common.success': 'à¤¸à¤«à¤²à¤¤à¤¾',
    'common.error': 'à¤¤à¥à¤°à¥à¤Ÿà¤¿',
    'auth.login': 'à¤²à¥‰à¤— à¤‡à¤¨',
    'auth.signup': 'à¤¸à¤¾à¤‡à¤¨ à¤…à¤ª',
    'auth.logout': 'à¤²à¥‰à¤— à¤†à¤‰à¤Ÿ',
    'auth.email': 'à¤ˆà¤®à¥‡à¤²',
    'auth.password': 'à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡',
    'auth.forgotPassword': 'à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤­à¥‚à¤² à¤—à¤?',
    'dashboard.welcome': 'à¤µà¤¾à¤ªà¤¸à¥€ à¤ªà¤° à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤¹à¥ˆ',
    'dashboard.todaysMeals': 'à¤†à¤œ à¤•à¤¾ à¤­à¥‹à¤œà¤¨',
    'dashboard.weeklyPlan': 'à¤¸à¤¾à¤ªà¥à¤¤à¤¾à¤¹à¤¿à¤• à¤¯à¥‹à¤œà¤¨à¤¾',
    'dashboard.quickActions': 'à¤¤à¥à¤µà¤°à¤¿à¤¤ à¤•à¤¾à¤°à¥à¤°à¤µà¤¾à¤ˆ',
    'meals.breakfast': 'à¤¨à¤¾à¤¶à¥à¤¤à¤¾',
    'meals.lunch': 'à¤¦à¥‹à¤ªà¤¹à¤° à¤•à¤¾ à¤­à¥‹à¤œà¤¨',
    'meals.dinner': 'à¤°à¤¾à¤¤ à¤•à¤¾ à¤–à¤¾à¤¨à¤¾',
    'meals.snack': 'à¤¨à¤¾à¤¶à¥à¤¤à¤¾',
    'meals.generatePlan': 'à¤¯à¥‹à¤œà¤¨à¤¾ à¤¬à¤¨à¤¾à¤à¤‚',
    'meals.addMeal': 'à¤­à¥‹à¤œà¤¨ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚',
    'pantry.addItem': 'à¤†à¤‡à¤Ÿà¤® à¤œà¥‹à¤¡à¤¼à¥‡à¤‚',
    'pantry.scanFood': 'à¤–à¤¾à¤¨à¤¾ à¤¸à¥à¤•à¥ˆà¤¨ à¤•à¤°à¥‡à¤‚',
    'pantry.scanBarcode': 'à¤¬à¤¾à¤°à¤•à¥‹à¤¡ à¤¸à¥à¤•à¥ˆà¤¨ à¤•à¤°à¥‡à¤‚',
    'pantry.expiringItems': 'à¤œà¤²à¥à¤¦ à¤¸à¤®à¤¾à¤ªà¥à¤¤',
    'pantry.lowStock': 'à¤•à¤® à¤¸à¥à¤Ÿà¥‰à¤•',
    'family.addMember': 'à¤¸à¤¦à¤¸à¥à¤¯ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚',
    'family.dietaryRestrictions': 'à¤†à¤¹à¤¾à¤° à¤ªà¥à¤°à¤¤à¤¿à¤¬à¤‚à¤§',
    'family.allergies': 'à¤à¤²à¤°à¥à¤œà¥€',
    'settings.account': 'à¤–à¤¾à¤¤à¤¾',
    'settings.notifications': 'à¤¸à¥‚à¤šà¤¨à¤¾à¤à¤‚',
    'settings.appearance': 'à¤¦à¤¿à¤–à¤¾à¤µà¤Ÿ',
    'settings.language': 'à¤­à¤¾à¤·à¤¾',
    'settings.privacy': 'à¤—à¥‹à¤ªà¤¨à¥€à¤¯à¤¤à¤¾',
    'settings.subscription': 'à¤¸à¤¦à¤¸à¥à¤¯à¤¤à¤¾',
    'a11y.skipToContent': 'à¤®à¥à¤–à¥à¤¯ à¤¸à¤¾à¤®à¤—à¥à¤°à¥€ à¤ªà¤° à¤œà¤¾à¤à¤‚',
    'a11y.skipToNav': 'à¤¨à¥‡à¤µà¤¿à¤—à¥‡à¤¶à¤¨ à¤ªà¤° à¤œà¤¾à¤à¤‚',
    'a11y.menuOpen': 'à¤®à¥‡à¤¨à¥‚ à¤–à¥‹à¤²à¥‡à¤‚',
    'a11y.menuClose': 'à¤®à¥‡à¤¨à¥‚ à¤¬à¤‚à¤¦ à¤•à¤°à¥‡à¤‚',
    'a11y.loading': 'à¤¸à¤¾à¤®à¤—à¥à¤°à¥€ à¤²à¥‹à¤¡ à¤¹à¥‹ à¤°à¤¹à¥€ à¤¹à¥ˆ',
    'a11y.newWindow': 'à¤¨à¤ˆ à¤µà¤¿à¤‚à¤¡à¥‹ à¤®à¥‡à¤‚ à¤–à¥à¤²à¤¤à¤¾ à¤¹à¥ˆ',
  },

  pt: {
    'nav.home': 'InÃ­cio',
    'nav.dashboard': 'Painel',
    'nav.mealPlan': 'Plano de RefeiÃ§Ãµes',
    'nav.groceries': 'Lista de Compras',
    'nav.pantry': 'Despensa',
    'nav.recipes': 'Receitas',
    'nav.family': 'FamÃ­lia',
    'nav.settings': 'ConfiguraÃ§Ãµes',
    'nav.signOut': 'Sair',
    'common.loading': 'Carregando...',
    'common.save': 'Salvar',
    'common.cancel': 'Cancelar',
    'common.delete': 'Excluir',
    'common.edit': 'Editar',
    'common.add': 'Adicionar',
    'common.search': 'Pesquisar',
    'common.close': 'Fechar',
    'common.back': 'Voltar',
    'common.next': 'PrÃ³ximo',
    'common.submit': 'Enviar',
    'common.success': 'Sucesso',
    'common.error': 'Erro',
    'auth.login': 'Entrar',
    'auth.signup': 'Cadastrar',
    'auth.logout': 'Sair',
    'auth.email': 'E-mail',
    'auth.password': 'Senha',
    'auth.forgotPassword': 'Esqueceu a senha?',
    'dashboard.welcome': 'Bem-vindo de volta',
    'dashboard.todaysMeals': 'RefeiÃ§Ãµes de Hoje',
    'dashboard.weeklyPlan': 'Plano Semanal',
    'dashboard.quickActions': 'AÃ§Ãµes RÃ¡pidas',
    'meals.breakfast': 'CafÃ© da ManhÃ£',
    'meals.lunch': 'AlmoÃ§o',
    'meals.dinner': 'Jantar',
    'meals.snack': 'Lanche',
    'meals.generatePlan': 'Gerar Plano',
    'meals.addMeal': 'Adicionar RefeiÃ§Ã£o',
    'pantry.addItem': 'Adicionar Item',
    'pantry.scanFood': 'Escanear Comida',
    'pantry.scanBarcode': 'Escanear CÃ³digo',
    'pantry.expiringItems': 'Expirando Em Breve',
    'pantry.lowStock': 'Estoque Baixo',
    'family.addMember': 'Adicionar Membro',
    'family.dietaryRestrictions': 'RestriÃ§Ãµes Alimentares',
    'family.allergies': 'Alergias',
    'settings.account': 'Conta',
    'settings.notifications': 'NotificaÃ§Ãµes',
    'settings.appearance': 'AparÃªncia',
    'settings.language': 'Idioma',
    'settings.privacy': 'Privacidade',
    'settings.subscription': 'Assinatura',
    'a11y.skipToContent': 'Pular para o conteÃºdo principal',
    'a11y.skipToNav': 'Pular para a navegaÃ§Ã£o',
    'a11y.menuOpen': 'Abrir menu',
    'a11y.menuClose': 'Fechar menu',
    'a11y.loading': 'O conteÃºdo estÃ¡ carregando',
    'a11y.newWindow': 'Abre em nova janela',
  },
}

interface I18nContextType {
  language: Language
  setLanguage: (lang: Language) => void
  t: (key: string) => string
  dir: 'ltr' | 'rtl'
}

const I18nContext = createContext<I18nContextType | null>(null)

export function I18nProvider({ children }: { children: ReactNode }) {
  const [language, setLanguageState] = useState<Language>('en')

  useEffect(() => {
    // Load saved language preference
    const saved = localStorage.getItem('language') as Language
    if (saved && languages[saved]) {
      setLanguageState(saved)
      document.documentElement.lang = saved
      document.documentElement.dir = languages[saved].dir
    } else {
      // Detect browser language
      const browserLang = navigator.language.split('-')[0] as Language
      if (languages[browserLang]) {
        setLanguageState(browserLang)
        document.documentElement.lang = browserLang
        document.documentElement.dir = languages[browserLang].dir
      }
    }
  }, [])

  const setLanguage = (lang: Language) => {
    setLanguageState(lang)
    localStorage.setItem('language', lang)
    document.documentElement.lang = lang
    document.documentElement.dir = languages[lang].dir
  }

  const t = (key: string): string => {
    return translations[language]?.[key] || translations.en[key] || key
  }

  return (
    <I18nContext.Provider value={{ language, setLanguage, t, dir: languages[language].dir }}>
      {children}
    </I18nContext.Provider>
  )
}

export function useTranslation() {
  const context = useContext(I18nContext)
  if (!context) {
    throw new Error('useTranslation must be used within an I18nProvider')
  }
  return context
}
